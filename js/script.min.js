function loadItem(t){$.ajax({type:"GET",url:t,cache:!1,dataType:"xml",success:function(t){mcqArray=[],$(t).find("Questions").each(function(){var t=[];$(this).find("Options").children().each(function(){t.push($(this).text())}),mcqArray.push({id:$(this).find("Id").text(),description:$(this).find("Description").html(),subtitle:$(this).find("Subtitle").html(),options:t,answer:$(this).find("Answer").text()})}),window.localStorage.setItem(KEY,JSON.stringify(mcqArray))},error:function(t,e){console.log("request failed : "+e)}})}function updateDOMElements(t,e){$(t).html(`\n      <div class="container-fluid main">\n         <div class="row mx-1 main-questions">\n            <div class="question-count col-lg-1 text-center text-white offset-lg-0 rounded-bottom px-1 pt-3 pb-4 h-100 bg-green d-flex justify-content-between d-lg-block px-2">\n               <div><span class="fw-bold">Question</span></div>\n               <div><span id="questions" class="fw-bold">${AnsweredQuestion}/${MCQDATA.length}</span></div>\n            </div>\n            <div class="col-lg-11 px-0 px-lg-1 rounded">\n               <div class="quiz">\n                  <div class="card text-center border-0">\n                     <div class="card-header border-0 bg-lightgreen">MCQ Questionair</div>\n                     <div class="card-body border-0">\n                        <i class="card-title color-blue">Answer a simple question. <br />For each question, select the options and click on the submit button to lock down the option.</i>\n                        <div class="text-center mt-3">\n                           <button href="#" data-next="q1" class="quiz-start btn btn-success border-0">Start MCQ Questionair</button>\n                        </div>\n                     </div>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n   `),$.each(e,function(t){$(".quiz").append(`\n         <div id="q${t+1}" class="quiz-q card d-none border-0">\n            <div class="card-header border-0 bg-lightgreen rounded">${$(this)[0].description}</div>\n            <div class="card-body border-0">\n               <i class="card-title color-blue">${$(this)[0].subtitle}</i>\n               <div class="row my-5 mx-5 mx-lg-0 d-flex justify-content-center d-lg-flex justify-content-lg-between px-2">\n                  <div class="col-12 col-xs-6 col-sm-6 col-md-4 col-lg-2 px-3 mb-3 p-3 bg-lightgreen border-right-10">\n                     <img class="img-options img-responsive w-100 rounded" src="${$(this)[0].options[0]}" />\n                     <input data-item="1" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" />\n                  </div>\n                  <div class="col-12 col-xs-6 col-sm-6 col-md-4 col-lg-2 px-3 mb-3 p-3 bg-lightgreen border-right-10">\n                     <img class="img-options img-responsive w-100 rounded" src="${$(this)[0].options[1]}" />\n                     <input data-item="2" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" />\n                  </div>\n\n                  <div class="col-12 col-xs-6 col-sm-6 col-md-4 col-lg-2 px-3 mb-3 p-3 bg-lightgreen border-right-10">\n                     <img class="img-options img-responsive w-100 rounded" src="${$(this)[0].options[2]}" />\n                     <input data-item="3" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" />\n                  </div>\n                  <div class="col-12 col-xs-6 col-sm-6 col-md-4 col-lg-2 px-3 mb-3 p-3 bg-lightgreen">\n                     <img class="img-options img-responsive w-100 rounded" src="${$(this)[0].options[3]}" />\n                     <input data-item="4" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" />\n                  </div>\n               </div>\n               <div class="text-center mt-3">\n                  <button data-next="${t+1!=e.length?"q"+(t+2):"result"}" class="${t+1!=e.length?"quiz-submit":"result"} btn btn-success rounded full-width-mobile border-0" disabled>Submit</button>\n               </div>\n            </div>\n         </div>\n      `)}),$(".quiz").append(`\n      <div id="result" class="card text-center d-none border-0">\n         <div class="card-header border-0 bg-lightgreen rounded">Result</div>\n         <div class="card-body border-0">\n            <i class="card-title color-blue" id="results_show">The result is ${result}</i>\n         </div>\n      </div>\n   `),$(".img-options").on("click",function(){const t="#"+$(this).parent().parent().parent().parent().attr("id");$('input[type="radio"]').removeAttr("checked"),$(this).next().attr("checked","true"),$(t+" .quiz-submit").attr("disabled",!1),$(t+" .result").attr("disabled",!1)}),$(".form-check-input").on("click",function(){const t="#"+$(this).parent().parent().parent().parent().attr("id");$('input[type="radio"]').removeAttr("checked"),$(this).attr("checked","true"),$(t+" .quiz-submit").attr("disabled",!1),$(t+" .result").attr("disabled",!1)}),$(".quiz-start").on("click",function(){var t=$(this).attr("data-next");$(this).parent().parent().parent().addClass("d-none"),$("#"+t).removeClass("d-none"),AnsweredQuestion+=1,$("#questions").text(AnsweredQuestion+"/"+e.length)}),$(".result").on("click",function(){var t=$(this).attr("data-next");MCQAnswers.push($("input[type='radio']:checked").attr("data-item")),$(this).parent().parent().parent().addClass("d-none"),$("#"+t).removeClass("d-none"),$.each(e,function(t){$(this)[0].answer===MCQAnswers[t]&&(result+=1)}),$("#results_show").text("The result is "+result)}),$(".quiz-submit").on("click",function(){var t=$(this).attr("data-next");MCQAnswers.push($("input[type='radio']:checked").attr("data-item")),$(this).parent().parent().parent().addClass("d-none"),$("#"+t).removeClass("d-none"),AnsweredQuestion+=1,$("#questions").text(AnsweredQuestion+"/"+e.length)})}const XMLFILENAME="data.xml",KEY="quiz",MCQAnswers=[];var MCQDATA=JSON.parse(window.localStorage.getItem(KEY))||[],AnsweredQuestion=0,result=0;$(function(){loadItem(XMLFILENAME),null!==localStorage.getItem(KEY)?updateDOMElements("#root",MCQDATA):location.reload()});